<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1, maximum-scale=1,user-scalable=no"
    />
    <title>Amostra 3D CML</title>

    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.14/esri/themes/light/main.css"
    />

    <style>
      html,
      body,
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
        overflow: hidden;
      }
    </style>

    <script src="https://js.arcgis.com/4.14/"></script>

    <script>
            require([
        "esri/config",
		    "esri/widgets/LayerList",
        "esri/WebScene",
        "esri/views/SceneView",
        "esri/widgets/LineOfSight",
        "esri/widgets/Expand",
        "esri/geometry/Point",
        "esri/Graphic",
        "esri/core/watchUtils",
        "esri/widgets/Slice"
      ], function(
        esriConfig,
		    LayerList,
        WebScene,
        SceneView,
        LineOfSight,
        Expand,
        Point,
        Graphic,
        watchUtils,
        Slice
      )  {
         const scene = new WebScene({
          portalItem: {
            id: "22bced909f064c56bce84431e6b3e86c"
          }
        });
              

       const view = new SceneView({
          map: scene,
          container: "viewDiv"
        });
              
         const slice = new Slice({
  view: view
});

// Add widget to the bottom left corner of the view
view.ui.add(slice, {
  position: "bottom-right"
});

              const lineOfSight = new LineOfSight({
  view: view
});

// Add widget to the bottom left corner of the view
view.ui.add(lineOfSight, {
  position: "bottom-right"
});
        view.when(function() {
          var layerList = new LayerList({
            view: view
          });

          // Add widget to the top right corner of the view
          view.ui.add(layerList, "top-right");
        });
      });
    </script>
  </head>

  <body class="calcite">
    <div id="viewDiv"></div>
  </body>
</html>
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1, maximum-scale=1,user-scalable=no"
    />
    <title>CM Valongo - Percursos e Trilhos</title>

    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.14/esri/themes/light/main.css"
    />

    <style>
      html,
      body,
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
        overflow: hidden;
      }
    </style>

    <script src="https://js.arcgis.com/4.14/"></script>

    <script>
            require([
        "esri/config",
		    "esri/widgets/LayerList",
        "esri/widgets/Legend",
        "esri/WebScene",
        "esri/views/SceneView",
        "esri/widgets/LineOfSight",
        "esri/widgets/Expand",
        "esri/geometry/Point",
        "esri/Graphic",
        "esri/core/watchUtils",
        "esri/widgets/Slice"
      ], function(
        esriConfig,
		    LayerList,
        Legend,
        WebScene,
        SceneView,
        LineOfSight,
        Expand,
        Point,
        Graphic,
        watchUtils,
        Slice
      )  {
         const scene = new WebScene({
          portalItem: {
            id: "22bced909f064c56bce84431e6b3e86c"
          }
        });
              

       const view = new SceneView({
          map: scene,
          container: "viewDiv"
        });

 //Adiciona o Perfil Corte de Layers
const slice = new Slice({
  view: view
});

// Add widget to the bottom left corner of the view
view.ui.add(slice, {
  position: "bottom-right"
});

 //Adiciona Linha de Visibilidade
 const lineOfSight = new LineOfSight({
  view: view
});

// Add widget to the bottom left corner of the view
view.ui.add(lineOfSight, {
  position: "bottom-right"
});
     
		//Adiciona Legenda
		 const legendExpand = new Expand({
          collapsedIconClass: "esri-icon-collapse",
          expandIconClass: "esri-icon-expand",
          expandTooltip: "Legenda",
          view: view,
          content: new Legend({
            view: view
          }),
          expanded: false
        });
        view.ui.add(legendExpand, "top-left");

		view.when(function() {
		layerList = new LayerList({
  container: document.createElement("div"),
  view: view
});

layerListExpand = new Expand({
  expandIconClass: "esri-icon-layer-list",  // see https://developers.arcgis.com/javascript/latest/guide/esri-icon-font/
  expandTooltip: "Tabela de Conte√∫dos", // optional, defaults to "Expand" for English locale
  view: view,
  content: layerList.domNode
});
view.ui.add(layerListExpand, "top-right");

		
        });
      });
    </script>
  </head>

  <body class="calcite">
    <div id="viewDiv"></div>
  </body>
</html>
